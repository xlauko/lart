#!/bin/bash

LART_INTERFACE="@PROJECT_BINARY_DIR@/include/"
RUNTIME="@PROJECT_BINARY_DIR@/lib/runtime/exec/liblart-exec-runtime.a"
PASS="@CMAKE_CURRENT_BINARY_DIR@/liblart_module.so"

exec @CLANG_BINARY@                             \
     -Xclang -load -Xclang "$PASS"              \
     -fsanitize=dataflow                        \
     "$@"                                       \
     "$RUNTIME"                                 \
     -Wl,-rpath,"@{LLVM_INSTALL_DIR}/lib"       \
     -I"$LART_INTERFACE"                        \
     -Qunused-arguments
